{{ cookiecutter.class }}.mr {

  # current options: "ProxiedProcessor", "CluProcessor", "{{ cookiecutter.project_name }}"
  # processor = "ProxiedProcessor"
  processor = "{{ cookiecutter.project_name }}"
  processor = ${?PROCESSOR_TYPE}
  rulesPrefix = "{{ cookiecutter.class_path }}/reader/grammars/{{ cookiecutter.project_name }}"
  rulesPrefix = ${?RULES_PREFIX}
  proxiedProcessorUrl = "http://localhost:8888" 
  proxiedProcessorUrl = ${?PROCESSORS_SERVICE_URL}

  ner {
        base = "{{ cookiecutter.class_path }}/kb"
    kbConfig = ${{{ cookiecutter.class }}.mr.ner.base}/{{ cookiecutter.project_name }}.yml
    kbRawDir = ${{{ cookiecutter.class }}.mr.ner.base}/raw
    kbNerDir = ${{{ cookiecutter.class }}.mr.ner.base}/ner

    # NB: Order is important as it indicates priority.
    kbs = [
      ${{{ cookiecutter.class }}.mr.ner.kbNerDir}/hazardous-materials.tsv.gz
    ]

    # File to keep track of entities that should not be labeled if they are lowercase or initial upper case.
    stopListFile = ${{{ cookiecutter.class }}.mr.ner.base}/stoplist.txt

    model = ${{{ cookiecutter.class }}.mr.ner.kbNerDir}/model.ser.gz
  }

  entities.entityFinder {
    name         = "OdinEntityFinder"
    // action instantiation handled via reflection
    actions      = "{{ cookiecutter.class }}.mr.{{ cookiecutter.project_name }}.odin.CustomActions"
    # FIXME: this shouldn't be required to be an action in .actions
    globalAction = "identityAction"
    finalAction  = "cleanupEntities"
    rulesPath    = ${{{ cookiecutter.class }}.mr.rulesPrefix}/entities/master.yml
  }

  events.eventFinder {
    name         = "OdinEventFinder"
    # action instantiation handled via reflection
    actions      = "{{ cookiecutter.class }}.mr.{{ cookiecutter.project_name }}.odin.CustomActions"
    # FIXME: this shouldn't be required to be an action in .actions (i.e., use reflection)
    globalAction = "cleanupEvents"
    finalAction  = "finalSweep"
    rulesPath    = ${{{ cookiecutter.class }}.mr.rulesPrefix}/events/master.yml
  }

  mentionFilter {
    maxArgDistance = 20
    # entity mentions must meet or exceed this number of characters
    meetsMinLength {
      minChars    = 2
      # entities matching any of these terms will not be discarded
      exceptions = ["KEEP_ME"]
    }

  }

}